<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{fragments/mainLayout}">
<head>
<!--	<script type="text/javascript" th:src="@{../js/jquery.min.js}"></script>-->
	<script type="text/javascript" th:src="@{/js/moment.min.js}" src="../static/js/moment.min.js"></script>
	<script type="text/javascript" th:src="@{/js/daterangepicker.min.js}" src="../static/js/daterangepicker.min.js"></script>
	<link rel="stylesheet" type="text/css" th:href="@{/css/daterangepicker.css}" href="../static/css/daterangepicker.css"/>
</head>
<body>
<div layout:fragment="content">
	<h1>Add/edit tour</h1>
	<br/>
	<!--/*@thymesVar id="tour" type="stanislav.tun.novinomad.picasso.persistance.pojos.Tour"*/-->
	<!--/*@thymesVar id="drivers" type="java.util.List<stanislav.tun.novinomad.picasso.persistance.pojos.Driver>"*/-->
	<form action="#" th:action="@{/tours/save}" th:object="${tour}" method="post">

		<div th:if="${error}">
			<script th:inline="javascript">
                $(document).ready(function () {
                    $("#myModal").modal("show");
                });
			</script>

			<div th:replace="fragments/notification"></div>
		</div>

		<table cellpadding="10">
			<tr>
				<td>Tittle:</td>
				<td><input required="required" class="form-control form-control-sm" type="text" th:field="*{tittle}"/></td>
			</tr>
<!--			<tr>-->
<!--				<td>Start date:</td>-->
<!--				<td><input class="form-control form-control-sm" id="startDate" type="date" th:field="*{startDate}"/></td>-->
<!--			</tr>-->
<!--			<tr>-->
<!--				<td>End date:</td>-->
<!--				<td><input class="form-control form-control-sm" id="endDate" type="date" th:field="*{endDate}"/></td>-->
<!--			</tr>-->
			<tr>
				<td>Date Time Range: </td>
				<td>
					<input readonly th:name="tourDateTimeRange" type="text" class="datetimes" th:style="${'width: 260px;padding-left: 5px;'}" th:value="${tourRange}"/>
					<script>
                        $(function() {
                            $('.datetimes').daterangepicker({

                                timePicker: true,
                                timePicker24Hour: true,
                                timePickerIncrement: 5,
                                autoApply: true,
                                locale: {
                                    format: 'DD.MM.YYYY HH:mm',
                                    cancelLabel: 'Clear'
                                }
                            });
                            $('.datetimes').on('cancel.daterangepicker', function(ev, picker) {
     				 			$(this).val('');
  							});
                        });
					</script>
				</td>
			</tr>
			<tr>
				<!--<td>Attach a driver</td>-->
				<td>
					<!--<script th:src="@{/js/openIntervalInput.js}" type="text/javascript"></script>-->
					<p>Attach driver</p>
					<!--th:onselect="'addInput();'"-->
					<select th:name="drivers2attach" multiple="multiple" id="attachDrivers" class="form-control">
						<!--/*@thymesVar id="drivers" type="java.util.List<stanislav.tun.novinomad.picasso.persistance.pojos.Driver>"*/-->
						<option th:each="d : ${drivers}" th:value="${d.id}"
						        th:text="${d.getId()+' '+d.fullName}">
						</option>

					</select>
				</td>
				<td>
					<p>Exclude driver</p>
					<select th:name="drivers2exclude" multiple="multiple" class="form-control">

						<!--/*@thymesVar id="id" type="java.lang.Long"*/-->
						<option th:each="d : ${driversExclude}" th:value="${d.id}"
						        th:text="${d.id+' '+d.fullName}">
					</select>
				</td>
			</tr>
			<tr>
				<!--<td>Attach a driver</td>-->
				<td>
					<!--<script th:src="@{/js/openIntervalInput.js}" type="text/javascript"></script>-->
					<p>Attach guide</p>
					<!--th:onselect="'addInput();'"-->
					<select th:name="guides2attach" multiple="multiple" id="attachGuides" class="form-control">
						<!--/*@thymesVar id="drivers" type="java.util.List<stanislav.tun.novinomad.picasso.persistance.pojos.Driver>"*/-->
						<option th:each="g : ${guides}" th:value="${g.id}"
								th:text="${g.getId()+' '+g.fullName}">
						</option>

					</select>
				</td>
				<td>
					<p>Exclude guide</p>
					<select th:name="guides2exclude" multiple="multiple" class="form-control">

						<!--/*@thymesVar id="id" type="java.lang.Long"*/-->
						<option th:each="g : ${guidesExclude}" th:value="${g.id}"
								th:text="${g.id+' '+g.fullName}">
					</select>
				</td>
			</tr>

			<tr>
				<td>Description:</td>
<!--				<td>-->
<!--					<input class="form-control form-control-sm" type="text" th:field="*{description}"/>-->
<!--&lt;!&ndash;					<textarea class="form-control" id="exampleTextarea" rows="3" th:field="*{description}"></textarea>&ndash;&gt;-->
<!--				</td>-->
				<td>
					<div class="form-group">
						<textarea class="form-control" id="exampleTextarea" rows="3" th:field="*{description}"></textarea>
					</div>
				</td>

				<td>
					<div class="form-group">
						<input type="file" class="form-control-file" id="exampleInputFile" aria-describedby="fileHelp">
					</div>
				</td>
			</tr>

			<tr>
				<td colspan="2">
<!--					<script th:src="@{/js/openIntervalInput.js}" type="text/javascript"></script>-->
					<button id="advancedButton" type="submit" th:name="adv" th:value="true" class="btn btn-outline-warning">advanced options</button>
					<button type="submit" class="btn btn-outline-success">Confirm</button>
				</td>
			</tr>
		</table>
		<input type="hidden" th:field="*{id}">
	</form>

</div>
</body>
<!--<script>-->
<!--    var dialog = document.querySelector('dialog');-->

<!--    document.querySelector('#advancedButton').onclick = function() {-->
<!--        dialog.show();-->
<!--    };-->
<!--    document.querySelector('#close').onclick = function() {-->
<!--        dialog.close();-->
<!--    };-->
<!--</script>-->
</html>