<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{fragments/mainLayout}">
<head>
	<script src="/js/multidatespicker.js" type="text/javascript"></script>

<!--	<meta charset="UTF-8"><link rel="apple-touch-icon" type="image/png" href="https://static.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">-->
<!--	<meta name="apple-mobile-web-app-title" content="CodePen">-->
	<link rel="stylesheet" href="/css/datepicker.css">
	<script>
        window.console = window.console || function(t) {};
	</script>
	<script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
	</script>
</head>
	<body>
	<div layout:fragment="content" class="container">
		<form th:action="@{/tours/advanced/save}" th:object="${driversWrapper}" method="post" autocomplete="off">
			<h1 th:text="${tour.tittle}"></h1>
			<table>
				<tr>
					<th>Drivers:</th>
					<th>Days:</th>
				</tr>
				<tr th:each="entry : ${driversWrapper.map.entrySet()}">
					<td th:text="${entry.key.fullName}" ></td>
					<td>
						<input type="text" class="form-control date" placeholder="Pick the multiple dates" th:field="*{map[__${entry.key.id}__]}" th:value="*{map[__${entry.key.id}__]}">

					</td>
				</tr>
<!--					<td><input type="text" th:field="*{map[__${entry.key.id}__]}" ></td>-->


<!-- row invokes error	Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor'				<td><input type="text" th:field="*{map['__${entry.key.id}__']}"></td>-->

			</table>
			<input type="hidden" th:name="tourId" th:value="${tour.getId()}">
			<button type="submit" class="btn btn-outline-success">confirm</button>
<!--			<div th:each="entry:${driversWrapper.map.entrySet()}">-->
<!--				<label th:for="*{map['__${entry.key}__']}" th:text="${netry.key.fullName}"></label>-->
<!--			</div>-->
		</form>
		<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-30d18ea41045577cdb11c797602d08e0b9c2fa407c8b81058b1c422053ad8041.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
		<script id="rendered-js">
            $('.date').datepicker({
                multidate: true,
                format: 'dd-mm-yyyy',
                weekStart : 1,
                todayHighlight: true
            });
            //# sourceURL=pen.js
		</script>
	</div>
	</body>

</html>
<!--<form action="#" th:action="@{/someendpoint}" th:object="${DriverTourDays}" method="post">-->
<!--	<input type="text" th:field="*{driversDays}" />-->
<!--	<td><input type="submit" name="submit" class="button" value="Send" /></td>-->
<!--</form>-->